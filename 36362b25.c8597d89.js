(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{119:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),p=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=p(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=p(n),d=r,h=u["".concat(i,".").concat(d)]||u[d]||b[d]||o;return n?a.a.createElement(h,s(s({ref:t},l),{},{components:n})):a.a.createElement(h,s({ref:t},l))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},81:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return p}));var r=n(3),a=n(7),o=(n(0),n(119)),i={id:"ckbdapps",title:"Flows of Queries and Transactions"},s={unversionedId:"ckbdapps",id:"ckbdapps",isDocsHomePage:!1,title:"Flows of Queries and Transactions",description:"The DApps built with Lumos mainly deal with user queries and transaction requests, such as transferring capacity, deposits, withdrawals, and other operations of user assets.",source:"@site/docs\\ckbdapps.md",slug:"/ckbdapps",permalink:"/lumos_doc/docs/ckbdapps",editUrl:"https://github.com/xying21/lumos_doc/tree/master/docs/ckbdapps.md",version:"current"},c=[{value:"Query Flow",id:"query-flow",children:[]},{value:"Transaction Flow",id:"transaction-flow",children:[]}],l={toc:c};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"The DApps built with Lumos mainly deal with user queries and transaction requests, such as transferring capacity, deposits, withdrawals, and other operations of user assets."),Object(o.b)("p",null,"The following flows of queries and transactions show the work process of these operations:"),Object(o.b)("h3",{id:"query-flow"},"Query Flow"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"The user expresses an intent to perform a query action on the client."),Object(o.b)("li",{parentName:"ol"},"The DApp uses the index database of cells to find all the live cells satisfying the query conditions."),Object(o.b)("li",{parentName:"ol"},"The DApp perform other related operations or calculations and returns the result to the user.")),Object(o.b)("h3",{id:"transaction-flow"},"Transaction Flow"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"The user expresses an intent to perform an transaction action on the client.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"The DApp builds a Lumos transaction skeleton and send it to the client. This structure contains all the cells and dependencies for the action and the data that needs to be signed. ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"After the client gets the skeleton, the client forwards transaction skeleton to the wallet for signing. ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"The wallet returns the required signatures to the client.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"The transaction with signatures is then forwarded to the DApp. The DApp seals the transaction by adding the transaction signatures to the transaction structure. ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"The sealed transaction is then forwarded to the CKB network.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Upon successful receipt, the CKB network returns the transaction hash to the DApp.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"The transaction hash is sent back to the client such that the client can track the transactions."))),Object(o.b)("img",{src:"../../img/transaction flow.png",width:"600"}),Object(o.b)("p",null,"Figure 2 Transaction Flow"))}p.isMDXComponent=!0}}]);