(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{125:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g}));var a=n(0),o=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var b=o.a.createContext({}),p=function(e){var t=o.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},f=function(e){var t=p(e.components);return o.a.createElement(b.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},u=o.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,r=e.parentName,b=l(e,["components","mdxType","originalType","parentName"]),f=p(n),u=a,g=f["".concat(r,".").concat(u)]||f[u]||s[u]||i;return n?o.a.createElement(g,c(c({ref:t},b),{},{components:n})):o.a.createElement(g,c({ref:t},b))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=u;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,r[1]=c;for(var b=2;b<i;b++)r[b]=n[b];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},90:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return p}));var a=n(3),o=n(7),i=(n(0),n(125)),r={id:"config",title:"Set Up the Config Manager"},c={unversionedId:"tutorials/config",id:"tutorials/config",isDocsHomePage:!1,title:"Set Up the Config Manager",description:"The config manager  (@ckb-lumos/config-manager) supports the DApp to boot with a specific chain configuration. All the other components in Lumos can leverage the configuration from the config manager directly.",source:"@site/docs\\tutorials\\config.md",slug:"/tutorials/config",permalink:"/lumos_doc/docs/tutorials/config",editUrl:"https://github.com/xying21/lumos_doc/tree/master/docs/tutorials/config.md",version:"current",lastUpdatedAt:1618925233,sidebar:"sidebar2",previous:{title:"Install Lumos Packages",permalink:"/lumos_doc/docs/tutorials/installlumos"},next:{title:"Set Up the Lumos Indexer",permalink:"/lumos_doc/docs/tutorials/indexer"}},l=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Set Up the Config Manager by Using Pre-defined Configurations",id:"set-up-the-config-manager-by-using-pre-defined-configurations",children:[]},{value:"Set Up the Config Manager by Using a Local Config File",id:"set-up-the-config-manager-by-using-a-local-config-file",children:[{value:"Step 1. Prepare the <code>config.json</code> file in the project root directory.",id:"step-1-prepare-the-configjson-file-in-the-project-root-directory",children:[]},{value:"Step 2. Set up the config manager in the DApp.",id:"step-2-set-up-the-config-manager-in-the-dapp",children:[]}]}],b={toc:l};function p(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"The config manager  (",Object(i.b)("inlineCode",{parentName:"p"},"@ckb-lumos/config-manager"),") supports the DApp to boot with a specific chain configuration. All the other components in Lumos can leverage the configuration from the config manager directly."),Object(i.b)("p",null,"A DApp can set up the config manger by one of the following variables:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:null},"Variable"),Object(i.b)("th",{parentName:"tr",align:null},"Value"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("var",null,"LUMOS_CONFIG_NAME")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("div",null,Object(i.b)("ul",null,Object(i.b)("li",null," ",Object(i.b)("inlineCode",{parentName:"td"},"LINA"),": To boot the DApp with the configurations of the ",Object(i.b)("strong",{parentName:"td"},Object(i.b)("em",{parentName:"strong"},"Mainnet"))," network."),Object(i.b)("li",null,Object(i.b)("inlineCode",{parentName:"td"},"AGGRON4"),": To boot the DApp with the configurations of the ",Object(i.b)("strong",{parentName:"td"},Object(i.b)("em",{parentName:"strong"},"Testnet"))," network"))),Object(i.b)("p",null,"For more information, see ",Object(i.b)("a",{parentName:"td",href:"../tutorials/config#set-up-the-config-manager-by-using-pre-defined-configurations"},"Set Up the Config Manager by Using Pre-defined Configurations"),"."))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("var",null,"LUMOS_CONFIG_FILE")),Object(i.b)("td",{parentName:"tr",align:null},"A local config file, for example, ",Object(i.b)("inlineCode",{parentName:"td"},"config.json"),": To boot the DApp with the configurations of the ",Object(i.b)("strong",{parentName:"td"},Object(i.b)("em",{parentName:"strong"},"DEV chain")),", specify the ",Object(i.b)("var",null,"LUMOS_CONFIG_FILE")," variable with a local config file. ",Object(i.b)("br",null),"For more information, see ",Object(i.b)("a",{parentName:"td",href:"../tutorials/config#set-up-the-config-manager-by-using-a-local-config-file"},"Set Up the Config Manager by Using a Local Config File"),".")))),Object(i.b)("h2",{id:"prerequisites"},"Prerequisites"),Object(i.b)("p",null,"The following prerequisites apply for setting up the config manager:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"The development environment is set up."),Object(i.b)("p",{parentName:"li"},"For more information, see ",Object(i.b)("a",{parentName:"p",href:"../preparation/setupsystem"},"Set Up the Development Environment"),".")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"The ",Object(i.b)("inlineCode",{parentName:"p"},"@ckb-lumos/config-manager")," package is installed."))),Object(i.b)("h2",{id:"set-up-the-config-manager-by-using-pre-defined-configurations"},"Set Up the Config Manager by Using Pre-defined Configurations"),Object(i.b)("p",null,"To boot the DApp with the pre-defined Mainnet configurations, you can specify the ",Object(i.b)("var",null,"LUMOS_CONFIG_NAME")," variable with ",Object(i.b)("b",null,"LINA"),"."),Object(i.b)("p",null,"Example:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-typescript"},'import { env } from "process";\nimport { getConfig, initializeConfig } from "@ckb-lumos/config-manager";\nenv.LUMOS_CONFIG_NAME = "LINA";\ninitializeConfig();\nexport const CONFIG = getConfig();\n')),Object(i.b)("p",null,"To boot the DApp with the pre-defined Testnet configurations, you can specify the variable with ",Object(i.b)("b",null,"AGGRON4"),"."),Object(i.b)("p",null,"Example:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-typescript"},'import { env } from "process";\nimport { getConfig, initializeConfig } from "@ckb-lumos/config-manager";\nenv.LUMOS_CONFIG_NAME = "AGGRON4";\ninitializeConfig();\nexport const CONFIG = getConfig();\n')),Object(i.b)("h2",{id:"set-up-the-config-manager-by-using-a-local-config-file"},"Set Up the Config Manager by Using a Local Config File"),Object(i.b)("p",null,"The ",Object(i.b)("var",null,"LUMOS_CONFIG_FILE")," variable can be set pointing to a local configuration file. Lumos reads the configurations from that configuration file.  "),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"If the ",Object(i.b)("var",null,"LUMOS_CONFIG_FILE")," variable is not set, Lumos reads configurations from the ",Object(i.b)("inlineCode",{parentName:"p"},"config.json")," file in the current directory."))),Object(i.b)("h3",{id:"step-1-prepare-the-configjson-file-in-the-project-root-directory"},"Step 1. Prepare the ",Object(i.b)("inlineCode",{parentName:"h3"},"config.json")," file in the project root directory."),Object(i.b)("p",null,"The following example prepares the file with the following content (the configurations of ",Object(i.b)("strong",{parentName:"p"},"DEV chain"),")."),Object(i.b)("p",null,"Example:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json",metastring:'title="hellolumos/config.json" {1-28}',title:'"hellolumos/config.json"',"{1-28}":!0},'{\n  "PREFIX": "ckt",\n  "SCRIPTS": {\n    "SECP256K1_BLAKE160": {\n      "CODE_HASH": "0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",\n      "HASH_TYPE": "type",\n      "TX_HASH": "0xace5ea83c478bb866edf122ff862085789158f5cbff155b7bb5f13058555b708",\n      "INDEX": "0x0",\n      "DEP_TYPE": "dep_group",\n      "SHORT_ID": 0\n    },\n    "SECP256K1_BLAKE160_MULTISIG": {\n      "CODE_HASH": "0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",\n      "HASH_TYPE": "type",\n      "TX_HASH": "0xace5ea83c478bb866edf122ff862085789158f5cbff155b7bb5f13058555b708",\n      "INDEX": "0x1",\n      "DEP_TYPE": "dep_group",\n      "SHORT_ID": 1\n    },\n    "DAO": {\n      "CODE_HASH": "0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",\n      "HASH_TYPE": "type",\n      "TX_HASH": "0xa563884b3686078ec7e7677a5f86449b15cf2693f3c1241766c6996f206cc541",\n      "INDEX": "0x2",\n      "DEP_TYPE": "code"\n    }\n  }\n}\n')),Object(i.b)("h3",{id:"step-2-set-up-the-config-manager-in-the-dapp"},"Step 2. Set up the config manager in the DApp."),Object(i.b)("p",null,"Example:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-typescript",metastring:'title="hellolumos/src/index.ts"',title:'"hellolumos/src/index.ts"'},'import { env } from "process";\nimport { getConfig, initializeConfig } from "@ckb-lumos/config-manager";\nenv.LUMOS_CONFIG_FILE = env.LUMOS_CONFIG_FILE || "./config.json";\ninitializeConfig();\nexport const CONFIG = getConfig();\n')))}p.isMDXComponent=!0}}]);