(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{110:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return m}));var r=t(0),o=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=o.a.createContext({}),l=function(e){var n=o.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},d=function(e){var n=l(e.components);return o.a.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},b=o.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),d=l(t),b=r,m=d["".concat(i,".").concat(b)]||d[b]||u[b]||a;return t?o.a.createElement(m,s(s({ref:n},p),{},{components:t})):o.a.createElement(m,s({ref:n},p))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=b;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<a;p++)i[p]=t[p];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"},95:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return s})),t.d(n,"toc",(function(){return c})),t.d(n,"default",(function(){return l}));var r=t(3),o=t(7),a=(t(0),t(110)),i={id:"installlumos",title:"Add Lumos Packages for a Node Project"},s={unversionedId:"tutorials/installlumos",id:"tutorials/installlumos",isDocsHomePage:!1,title:"Add Lumos Packages for a Node Project",description:"The node project is used to run the JavaScript code developed for the DApp.",source:"@site/docs\\tutorials\\installLumos.md",slug:"/tutorials/installlumos",permalink:"/lumos_doc/docs/tutorials/installlumos",editUrl:"https://github.com/xying21/lumos_doc/tree/master/docs/tutorials/installLumos.md",version:"current",sidebar:"someSidebar",previous:{title:"Install and Configure a CKB DEV Blockchain",permalink:"/lumos_doc/docs/tutorials/installckb"},next:{title:"Set Up the Config Manager",permalink:"/lumos_doc/docs/tutorials/config"}},c=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Steps",id:"steps",children:[{value:"<strong>Step 1. Create a new directory for the project and navigate into it.</strong>",id:"step-1-create-a-new-directory-for-the-project-and-navigate-into-it",children:[]},{value:"<strong>Step 2. Create a <code>package.json</code> file for the project by using the <code>yarn init</code> command.</strong>",id:"step-2-create-a-packagejson-file-for-the-project-by-using-the-yarn-init-command",children:[]},{value:"<strong>Step 3. Add Lumos packages as dependencies for the project.</strong>",id:"step-3-add-lumos-packages-as-dependencies-for-the-project",children:[]}]},{value:"Troubleshooting",id:"troubleshooting",children:[{value:"Error While Rebuilding the xxhash Package",id:"error-while-rebuilding-the-xxhash-package",children:[]}]}],p={toc:c};function l(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("p",null,"The node project is used to run the JavaScript code developed for the DApp."),Object(a.b)("h2",{id:"prerequisites"},"Prerequisites"),Object(a.b)("p",null,"The following prerequisites apply for adding Lumos packages for a node project:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"NodeJS and yarn are installed.")),Object(a.b)("h2",{id:"steps"},"Steps"),Object(a.b)("p",null,"To add Lumos packages for a node project:"),Object(a.b)("h3",{id:"step-1-create-a-new-directory-for-the-project-and-navigate-into-it"},Object(a.b)("strong",{parentName:"h3"},"Step 1. Create a new directory for the project and navigate into it.")),Object(a.b)("p",null,"If you want to add Lumos packages for an existing Node project, navigate into the directory of the project and go to step 3."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"$ mkdir mydapp\n$ cd mydapp\n")),Object(a.b)("h3",{id:"step-2-create-a-packagejson-file-for-the-project-by-using-the-yarn-init-command"},Object(a.b)("strong",{parentName:"h3"},"Step 2. Create a ",Object(a.b)("inlineCode",{parentName:"strong"},"package.json")," file for the project by using the ",Object(a.b)("inlineCode",{parentName:"strong"},"yarn init")," command.")),Object(a.b)("p",null,"This command prompts questions about the name and version of the project and the name of the initial entry point file (by default this is ",Object(a.b)("strong",{parentName:"p"},"index.js"),"). Just accept the defaults by hitting enter or type answers for each of the questions."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"$ yarn init\nyarn init v1.22.5\nquestion name (mydapp):\nquestion version (1.0.0):\nquestion description:\nquestion entry point (index.js):\nquestion repository url:\nquestion author:\nquestion license (MIT):\nquestion private:\nsuccess Saved package.json\nDone in 44.54s.\n")),Object(a.b)("h3",{id:"step-3-add-lumos-packages-as-dependencies-for-the-project"},Object(a.b)("strong",{parentName:"h3"},"Step 3. Add Lumos packages as dependencies for the project.")),Object(a.b)("p",null,"The following example adds the indexer, the common-scripts, the config-manager packages and their dependencies for the project. You can add other required Lumos packages in this step according to the application requirements."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Note"),": If any gyp error about missing dependencies for node-gyp is encountered during this step, install the dependencies according to the instructions for ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/nodejs/node-gyp"}),"node-gyp"),". Then execute the following command until it succeeds."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-shell"}),"$ yarn add @ckb-lumos/indexer@0.15.0 @ckb-lumos/common-scripts@0.15.0 @ckb-lumos/config-manager@0.15.0 @ckb-lumos/hd@0.15.0\nyarn add v1.22.5\ninfo No lockfile found.\n[1/4] Resolving packages...\nwarning @ckb-lumos/indexer > neon-cli@0.4.2: Please upgrade to 0.5.0\nwarning @ckb-lumos/indexer > request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\nwarning @ckb-lumos/indexer > node-pre-gyp@0.14.0: Please upgrade to @mapbox/node-pre-gyp: the non-scoped node-pre-gyp package is deprecated and only the @mapbox scoped package will recieve updates in the future\nwarning @ckb-lumos/indexer > request > har-validator@5.1.5: this library is no longer supported\n[2/4] Fetching packages...\n[3/4] Linking dependencies...\n[4/4] Building fresh packages...\nsuccess Saved lockfile.\nsuccess Saved 167 new dependencies.\ninfo Direct dependencies\n\u251c\u2500 @ckb-lumos/common-scripts@0.15.0\n\u251c\u2500 @ckb-lumos/config-manager@0.15.0\n\u2514\u2500 @ckb-lumos/indexer@0.15.0\ninfo All dependencies\n\u251c\u2500 @ckb-lumos/common-scripts@0.15.0\n\u251c\u2500 @ckb-lumos/config-manager@0.15.0\n\u251c\u2500 @ckb-lumos/helpers@0.15.0\n\u251c\u2500 @ckb-lumos/indexer@0.15.0\n\u251c\u2500 @ckb-lumos/rpc@0.15.0\n\u251c\u2500 abbrev@1.1.1\n\u251c\u2500 ...\n\u251c\u2500 ...\n\u251c\u2500 wide-align@1.1.3\n\u251c\u2500 wordwrap@1.0.0\n\u251c\u2500 wordwrapjs@4.0.0\n\u251c\u2500 xxhash@0.3.0\n\u2514\u2500 yallist@3.1.1\nDone in 125.02s.\n")),Object(a.b)("h2",{id:"troubleshooting"},"Troubleshooting"),Object(a.b)("h3",{id:"error-while-rebuilding-the-xxhash-package"},"Error While Rebuilding the xxhash Package"),Object(a.b)("p",null,"node-gyp rebuilds the xxhash package during the ",Object(a.b)("inlineCode",{parentName:"p"},"yarn add")," or ",Object(a.b)("inlineCode",{parentName:"p"},"npm install")," process. Incompatible NodeJS may cause the rebuild failure. Reinstall a lower version of NodeJS, for example, NodeJS 12, and then install Lumos packages."))}l.isMDXComponent=!0}}]);