<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/lumos_doc/blog/rss.xml" title="TypeScript and JavaScript Framework for CKB DApps Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/lumos_doc/blog/atom.xml" title="TypeScript and JavaScript Framework for CKB DApps Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="TypeScript and JavaScript Framework for CKB DApps" href="/lumos_doc/opensearch.xml"><title data-react-helmet="true">Query on Transactions | TypeScript and JavaScript Framework for CKB DApps</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Query on Transactions | TypeScript and JavaScript Framework for CKB DApps"><meta data-react-helmet="true" name="description" content="Transactions are the most fundamental entities for a DApp to interact with Nervos CKB. For more information about CKB transactions, see Transaction and CKB RFC."><meta data-react-helmet="true" property="og:description" content="Transactions are the most fundamental entities for a DApp to interact with Nervos CKB. For more information about CKB transactions, see Transaction and CKB RFC."><meta data-react-helmet="true" property="og:url" content="https://github.com/xying21/lumos_doc/lumos_doc/docs/tutorials/querytransactions"><link data-react-helmet="true" rel="shortcut icon" href="/lumos_doc/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://github.com/xying21/lumos_doc/lumos_doc/docs/tutorials/querytransactions"><link rel="stylesheet" href="/lumos_doc/styles.f1d0236b.css">
<link rel="preload" href="/lumos_doc/styles.cbeeb74e.js" as="script">
<link rel="preload" href="/lumos_doc/runtime~main.983a3f60.js" as="script">
<link rel="preload" href="/lumos_doc/main.4583aca0.js" as="script">
<link rel="preload" href="/lumos_doc/1.c6eb3317.js" as="script">
<link rel="preload" href="/lumos_doc/907e7f6a.1442aa92.js" as="script">
<link rel="preload" href="/lumos_doc/54.0f836e1d.js" as="script">
<link rel="preload" href="/lumos_doc/f976f453.688ff93a.js" as="script">
<link rel="preload" href="/lumos_doc/53.2b3e01e6.js" as="script">
<link rel="preload" href="/lumos_doc/62791b0f.f12cc8b9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_17Wu navbarHidden_19ww"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/lumos_doc/"><img src="/lumos_doc/img/nervoslumos.svg" alt="Lumos" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/lumos_doc/img/nervoslumos.svg" alt="Lumos" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nervosnetwork/lumos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link github-link" aria-label="GitHub"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/lumos_doc/docs/introduction/intro">Docs</a><a href="https://nervosnetwork.github.io/lumos/globals.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Documenation</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/lumos_doc/"><img src="/lumos_doc/img/nervoslumos.svg" alt="Lumos" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/lumos_doc/img/nervoslumos.svg" alt="Lumos" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/nervosnetwork/lumos" target="_blank" rel="noopener noreferrer" class="menu__link github-link" aria-label="GitHub"></a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/lumos_doc/docs/introduction/intro">Docs</a></li><li class="menu__list-item"><a href="https://nervosnetwork.github.io/lumos/globals.html" target="_blank" rel="noopener noreferrer" class="menu__link">API Documenation</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy sidebarWithHideableNavbar_CROi"><a tabindex="-1" class="sidebarLogo_xFc8" href="/lumos_doc/"><img src="/lumos_doc/img/nervoslumos.svg" alt="Lumos" class="themedImage_YANc themedImage--light_3CMI"><img src="/lumos_doc/img/nervoslumos.svg" alt="Lumos" class="themedImage_YANc themedImage--dark_3ARp"></a><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/lumos_doc/docs/introduction/about">Home</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lumos_doc/docs/introduction/intro">Lumos Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lumos_doc/docs/introduction/lumoscomponents">Lumos Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lumos_doc/docs/introduction/prerequisites">Prerequisites</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lumos_doc/docs/introduction/workflow">Workflow</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lumos_doc/docs/preparation/setupsystem">Set Up the Development Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lumos_doc/docs/preparation/installckb">Install a CKB Node</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lumos_doc/docs/preparation/createaccount">Create Accounts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lumos_doc/docs/preparation/hellolumos">Hello Lumos</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Installation and Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lumos_doc/docs/tutorials/installlumos">Install Lumos Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lumos_doc/docs/tutorials/config">Set Up the Config Manager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lumos_doc/docs/tutorials/indexer">Set Up the Lumos Indexer</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/lumos_doc/docs/tutorials/querycells">Query on Cells</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/lumos_doc/docs/tutorials/querytransactions">Query on Transactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/lumos_doc/docs/tutorials/buildtransactions">Assemble Transactions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/lumos_doc/docs/tutorials/manageaccounts">Manage Accounts</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/lumos_doc/docs/tutorials/integratenft">DApps on CKB Workshop Code</a></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_2WRA"><svg width="20" height="20" role="img" class="collapseSidebarButtonIcon_CoMu"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Query on Transactions</h1></header><div class="markdown"><blockquote><p>Transactions are the most fundamental entities for a DApp to interact with Nervos CKB. For more information about CKB transactions, see <a href="https://docs.nervos.org/docs/reference/transaction#docsNav" target="_blank" rel="noopener noreferrer">Transaction</a> and <a href="https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0019-data-structures/0019-data-structures.md#transaction" target="_blank" rel="noopener noreferrer">CKB RFC</a>.</p></blockquote><p>Lumos provides functions to support querying on transactions for specific query options.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="functions"></a>Functions<a class="hash-link" href="#functions" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="transactioncollector"></a>TransactionCollector<a class="hash-link" href="#transactioncollector" title="Direct link to heading">#</a></h3><p>The <a href="https://github.com/nervosnetwork/lumos/blob/c3bd18e6baac9c283995f25d226a689970dc9537/packages/base/lib/indexer.js#L9" target="_blank" rel="noopener noreferrer">indexer.TransactionCollector</a> function of the <code>@ckb-lumos/indexer</code> package can be used to query transactions by specific query options (lock, type, argsLen, fromBlock, toBlock, order, skip) and returns the transactions as the result.</p><p>The <a href="https://github.com/nervosnetwork/lumos/blob/c3bd18e6baac9c283995f25d226a689970dc9537/packages/sql-indexer/lib/index.js#L811" target="_blank" rel="noopener noreferrer">indexer.TransactionCollector</a> function of the <code>@ckb-lumos/sql-indexer</code> package can be used to query transactions by specific query options (lock, type, argsLen, fromBlock, toBlock, order, skip) and returns the transactions as the result.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rpcget_transaction"></a>rpc.get_transaction<a class="hash-link" href="#rpcget_transaction" title="Direct link to heading">#</a></h3><p>The <a href="https://github.com/nervosnetwork/lumos/blob/c3bd18e6baac9c283995f25d226a689970dc9537/packages/rpc/src/index.ts#L196" target="_blank" rel="noopener noreferrer">get_transaction</a> function of the <code>@ckb-lumos/rpc</code> package can be used to get the transaction information (<var>status</var>, <var>block_hash</var>) for a specific transaction hash.</p><p>A transaction can be in one of the following status:</p><ul><li>A <strong>pending</strong> result means the transaction is in the pool, and not proposed yet.</li><li>A <strong>proposed</strong> result means the transaction is in the pool, and can be committed in the next block.</li><li>A <strong>committed</strong> result means that the block involving the transaction has been mined and is officially on chain.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="prerequisites"></a>Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h2><p>The following prerequisites apply for the examples in this guide:</p><ul><li>The development environment is set up. For more information, see <a href="http://localhost:3000/lumos_doc/docs/preparation/setupsystem" target="_blank" rel="noopener noreferrer">Set Up the Development Environment</a>.</li><li>The CKB node is installed and started on DEV chain. For more information, see <a href="http://localhost:3000/lumos_doc/docs/preparation/installckb" target="_blank" rel="noopener noreferrer">Install a CKB Node</a>.</li><li>The Lumos packages (<code>@ckb-lumos/base</code>, <code>@ckb-lumos/indexer</code>, <code>@ckb-lumos/helpers</code>, <code>@ckb-lumos/config-manager</code>, <code>@ckb-lumos/rpc</code>) are installed.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="environment"></a>Environment<a class="hash-link" href="#environment" title="Direct link to heading">#</a></h2><p>The following examples are verified on Ubuntu 20.04.2. Steps on the other platforms can be adjusted accordingly.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="query-transactions-by-a-lock-script"></a>Query Transactions by a Lock Script<a class="hash-link" href="#query-transactions-by-a-lock-script" title="Direct link to heading">#</a></h3><p>The following example creates a new TransactionCollector to collect transactions for a specific lock script and returns the transactions with status.</p><p>Example:</p><div class="mdxCodeBlock_1zKU"><div style="color:#403f53;background-color:#FBFBFB" class="codeBlockTitle_2eSY">hellolumos/src/querytransactions.ts/getTxsbyLock()</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-typescript codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token constant" style="color:rgb(72, 118, 214)">INDEXER</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;./index&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> </span><span class="token maybe-class-name">Script</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token maybe-class-name">Transaction</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;@ckb-lumos/base&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> </span><span class="token maybe-class-name">TransactionCollector</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;@ckb-lumos/indexer&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">getTxsbyLock</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token parameter">lockScript</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token parameter"> Script</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;Get transactions by lock script:&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txCollector </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">TransactionCollector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token constant" style="color:rgb(72, 118, 214)">INDEXER</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain">lock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">lockScript</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txs</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token maybe-class-name">Transaction</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txWithStatus </span><span class="token keyword" style="color:rgb(12, 150, 155)">of</span><span class="token plain"> txCollector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">collect</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> tx </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> txWithStatus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token property-access">transaction</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"> </span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txStatus</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">txWithStatus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token property-access">tx_status</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token property-access">status</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    txs</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">push</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">tx</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">//console.log(txStatus);</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">return</span><span class="token plain"> txs</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Try the <code>getTxsbyLock</code> function in the Node.js REPL mode:</p><details><summary>CLICK ME</summary><p></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#403f53;background-color:#FBFBFB"><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">$ node --experimental-repl-await</span></div><div class="token-line" style="color:#403f53"><span class="token plain">Welcome to Node.js v14.0.0.</span></div><div class="token-line" style="color:#403f53"><span class="token plain">Type </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;.help&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">more</span><span class="token plain"> information.</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> const </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> accounts, querytransactions </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">require</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;.&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">The server is started.</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> const alice </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> accounts.ALICE</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> const </span><span class="token assign-left variable" style="color:rgb(201, 103, 101)">script</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">  code_hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8&quot;</span><span class="token plain">,</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">  hash_type: </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;type&quot;</span><span class="token plain">,</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">  args: alice.ARGS,</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> await querytransactions.getTxsbyLock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">script</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">Get transactions by lock script:</span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    cell_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x84a1ff885e82f1d48813968994f63eae22df5baf65519240fc74811ba3b31e92&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    header_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    inputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs_data: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    version: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x0&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    witnesses: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x590000000c00000055000000490000001000000030000000310000009bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce801140000007e00660b8ab122bca3ba468c5b6eee71f40b7d8e00000000&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    cell_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0xbdc50e04c88978fe53debe989863855b2e3e4be02dd989c6f8771a2b263ef213&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    header_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    inputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs_data: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    version: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x0&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    witnesses: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x590000000c00000055000000490000001000000030000000310000009bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce801140000007e00660b8ab122bca3ba468c5b6eee71f40b7d8e00000000&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">..</span><span class="token plain">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p></p></details><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="query-transactions-between-given-block-numbers"></a>Query Transactions between Given Block Numbers<a class="hash-link" href="#query-transactions-between-given-block-numbers" title="Direct link to heading">#</a></h3><p>The following example fetches the transactions between <code>[fromBlock, toBlock]</code>. Both <code>fromBlock</code> and <code>toBlock</code> are included in the <a href="https://github.com/nervosnetwork/lumos/blob/c3bd18e6baac9c283995f25d226a689970dc9537/packages/base/index.d.ts#L337" target="_blank" rel="noopener noreferrer">QueryOptions</a>.</p><p>Example:</p><div class="mdxCodeBlock_1zKU"><div style="color:#403f53;background-color:#FBFBFB" class="codeBlockTitle_2eSY">hellolumos/src/querytransactions.ts/getTxsbetweenBlocks()</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-typescript codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">getTxsbetweenBlocks</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token parameter">lockScript</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token parameter"> Script</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#403f53"><span class="token parameter">    fromBlock</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token parameter"> string</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#403f53"><span class="token parameter">    toBlock</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token parameter"> string</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txCollector </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">TransactionCollector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token constant" style="color:rgb(72, 118, 214)">INDEXER</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain">lock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">lockScript</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">fromBlock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">toBlock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;Get transactions between given blocks:&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txWithStatus </span><span class="token keyword" style="color:rgb(12, 150, 155)">of</span><span class="token plain"> txCollector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">collect</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">txWithStatus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Try the <code>getTxsbetweenBlocks</code> function in the Node.js REPL mode:</p><details><summary>CLICK ME</summary><p></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-shell codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#403f53;background-color:#FBFBFB"><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> const </span><span class="token assign-left variable" style="color:rgb(201, 103, 101)">from</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;0x801&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> const </span><span class="token assign-left variable" style="color:rgb(201, 103, 101)">to</span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;0x804&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain"></span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> await querytransactions.getTxsbetweenBlocks</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">script,from,to</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">Get transactions between given blocks:</span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  transaction: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    cell_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x5457bae99ab4cea79c78d4b239a92b5e30580cd1dda6637a7a661991704020cd&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    header_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    inputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs_data: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    version: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x0&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    witnesses: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x590000000c00000055000000490000001000000030000000310000009bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce801140000007e00660b8ab122bca3ba468c5b6eee71f40b7d8e00000000&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  tx_status: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    block_hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x0c6c197f43b4a27b6c881a2f01d9c4ba8abf2244e2284afa0f1b737979500fbe&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    status: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;committed&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  transaction: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    cell_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0xb2bf608b9e0499fb8679af8b4126c4921fadfdb6efa0a5375e3aaa0676fc65ae&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    header_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    inputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs_data: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    version: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x0&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    witnesses: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x590000000c00000055000000490000001000000030000000310000009bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce801140000007e00660b8ab122bca3ba468c5b6eee71f40b7d8e00000000&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  tx_status: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    block_hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x40c9b99ebb5da3888efb6fbc63fd13b4425a1b81b2a4271fb99a3ba29de9a55c&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    status: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;committed&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  transaction: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    cell_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x59dd00d1444d346b71b8a0c94ea0d418b8a4c85d86040485c145a8a60725cad0&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    header_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    inputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs_data: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    version: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x0&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    witnesses: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x590000000c00000055000000490000001000000030000000310000009bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce801140000007e00660b8ab122bca3ba468c5b6eee71f40b7d8e00000000&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  tx_status: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    block_hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0xd0c09a6615b30f685dd0b0e627021f89e0f35e9b59c575001d8a11f63436b76c&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    status: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;committed&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  transaction: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    cell_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0xe332fb6efba38e16b8fd20a4f47d5fffcf8fcac0c863b0eb30ef75067847936d&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    header_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    inputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">, </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs_data: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x&#x27;</span><span class="token plain">, </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    version: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x0&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    witnesses: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x5500000010000000550000005500000041000000709026a75b82aca580d758c62eceaa9982b81057146a6c0205db3ee7b5581e3201d3ccd5845ea6d25b9b977f98f7c1c74efe4c38292b654d03fa2d037fa0777b01&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  tx_status: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    block_hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0xd0c09a6615b30f685dd0b0e627021f89e0f35e9b59c575001d8a11f63436b76c&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    status: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;committed&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  transaction: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    cell_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0xea8f658e6ea08c38f58f6a0af3530396aba0e51e1064db8626ecd38976625c34&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    header_deps: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    inputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Object</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    outputs_data: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    version: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x0&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    witnesses: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0x590000000c00000055000000490000001000000030000000310000009bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce801140000007e00660b8ab122bca3ba468c5b6eee71f40b7d8e00000000&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">  tx_status: </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    block_hash: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;0xbae60c9c4f54d6f6a970fb76c2fdd226a83dd8724cff082157da559ce6cf507f&#x27;</span><span class="token plain">,</span></div><div class="token-line" style="color:#403f53"><span class="token plain">    status: </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;committed&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p></p></details><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="skip-transactions"></a>Skip Transactions<a class="hash-link" href="#skip-transactions" title="Direct link to heading">#</a></h3><p>The <var>skip</var> query option represents the number of transactions being skipped.</p><p>Example:</p><div class="mdxCodeBlock_1zKU"><div style="color:#403f53;background-color:#FBFBFB" class="codeBlockTitle_2eSY">hellolumos/src/querytransactions.ts/getTxsandSkip()</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-typescript codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">getTxsandSkip</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token parameter">lock</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token parameter"> Script</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#403f53"><span class="token parameter">    skip</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token parameter"> number</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txCollector </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">TransactionCollector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token constant" style="color:rgb(72, 118, 214)">INDEXER</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain">lock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">skip</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;Get transactions and skip the first&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> skip</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;trasactions&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txWithStatus </span><span class="token keyword" style="color:rgb(12, 150, 155)">of</span><span class="token plain"> txCollector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">collect</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">txWithStatus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="order-transactions-by-block-number"></a>Order Transactions by Block Number<a class="hash-link" href="#order-transactions-by-block-number" title="Direct link to heading">#</a></h3><p>The following example creates a new TransactionCollector and uses the TransactionCollector to collect transactions in order of block numbers for a specific lock script. If the order is not specified, the default order is &quot;asc&quot; for the returned result.</p><p>Example:</p><div class="mdxCodeBlock_1zKU"><div style="color:#403f53;background-color:#FBFBFB" class="codeBlockTitle_2eSY">hellolumos/src/querytransactions.ts/getTxsandOrder()</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-typescript codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">getTxsandOrder</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    lock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Script</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    order</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;asc&quot;</span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;desc&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txCollector </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">TransactionCollector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token constant" style="color:rgb(72, 118, 214)">INDEXER</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain">lock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">order</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;Get transactions in order of&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> order</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txWithStatus </span><span class="token keyword" style="color:rgb(12, 150, 155)">of</span><span class="token plain"> txCollector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">collect</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">txWithStatus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="prefix-search-on-args"></a>Prefix Search on <var>args</var><a class="hash-link" href="#prefix-search-on-args" title="Direct link to heading">#</a></h3><p>The default value of <var>argsLen</var> is -1 for the query on a full slice of the args of a lock script.</p><p>You can specify <var>argsLen</var> with a value other than the default value to enable the prefix search on the args of a lock script.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>It is recommended to specify an explicit length for the <var>argsLen</var> parameter for prefix search. For example, the length is <strong>20</strong> in normal scenarios and <strong>28</strong> in the multisig scenario for the lock script. When the length is not certain, the <var>argsLen</var> parameter can be set as <code>any</code>. But there is performance lost when using <code>any</code> rather than an explicit length.</p></div></div><p>Example:</p><div class="mdxCodeBlock_1zKU"><div style="color:#403f53;background-color:#FBFBFB" class="codeBlockTitle_2eSY">hellolumos/src/querytransactions.ts/findTXsbyPrefix()</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-typescript codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">findTXsbyPrefix</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token parameter">lock</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token parameter"> Script</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#403f53"><span class="token parameter">    argsLen </span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token parameter"> number</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txCollector </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">TransactionCollector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token constant" style="color:rgb(72, 118, 214)">INDEXER</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain">lock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">argsLen</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;Prefix Search&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txWithStatus </span><span class="token keyword" style="color:rgb(12, 150, 155)">of</span><span class="token plain"> txCollector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">collect</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">txWithStatus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="fine-grained-query-for-transactions"></a>Fine Grained Query for Transactions<a class="hash-link" href="#fine-grained-query-for-transactions" title="Direct link to heading">#</a></h3><p>Fine Grained Query for Transactions can be achieved by using <a href="https://github.com/nervosnetwork/lumos/blob/c3bd18e6baac9c283995f25d226a689970dc9537/packages/base/index.d.ts#L351" target="_blank" rel="noopener noreferrer">ScriptWrapper</a> with customized options like <var>ioType</var>, <var>argsLen</var>.</p><p>The value for the <var>ioType</var> field is among <code>input | output | both</code>.</p><p>Example:</p><div class="mdxCodeBlock_1zKU"><div style="color:#403f53;background-color:#FBFBFB" class="codeBlockTitle_2eSY">hellolumos/src/querytransactions.ts/finegrainedSearch()</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-typescript codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptWrapper</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;@ckb-lumos/base&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">finegrainedSearch</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    lockScript</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Script</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    typescript </span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Script</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    argslen</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(72, 118, 214)">number</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    iotype</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;output&quot;</span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;input&quot;</span><span class="token operator" style="color:rgb(12, 150, 155)">|</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;both&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">type</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token maybe-class-name">ScriptWrapper</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">      script</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">typescript</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">      ioType</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">iotype</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">      argsLen</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain"> argslen</span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txCollector </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">TransactionCollector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token constant" style="color:rgb(72, 118, 214)">INDEXER</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain">lock</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token plain">lockScript</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token keyword" style="color:rgb(12, 150, 155)">type</span><span class="token punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token keyword" style="color:rgb(12, 150, 155)">type</span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;Fine Grained Query&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txWithStatus </span><span class="token keyword" style="color:rgb(12, 150, 155)">of</span><span class="token plain"> txCollector</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">collect</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">txWithStatus</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="get-transaction-status-and-block-hash"></a>Get Transaction Status and Block Hash<a class="hash-link" href="#get-transaction-status-and-block-hash" title="Direct link to heading">#</a></h3><p>The following example uses the <a href="https://github.com/nervosnetwork/lumos/blob/c3bd18e6baac9c283995f25d226a689970dc9537/packages/rpc/src/index.ts#L196" target="_blank" rel="noopener noreferrer">get_transaction</a> function of the <code>@ckb-lumos/rpc</code> package to get the transaction information for a specific transaction hash.</p><p>Example: </p><div class="mdxCodeBlock_1zKU"><div style="color:#403f53;background-color:#FBFBFB" class="codeBlockTitle_2eSY">hellolumos/src/querytransactions.ts/getTxsbyHash()</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-typescript codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#403f53;background-color:#FBFBFB"><div class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(72, 118, 214)">RPC</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(72, 118, 214)">&quot;@ckb-lumos/RPC&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> rpc </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(17, 17, 17)">RPC</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;http://127.0.0.1:8114&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">getTxsbyHash</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token parameter">txHash</span><span class="token parameter punctuation" style="color:rgb(153, 76, 195)">:</span><span class="token parameter"> string</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain">   </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span></div><div class="token-line docusaurus-highlight-code-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> txWithStatus </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">await</span><span class="token plain"> rpc</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">get_transaction</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">txHash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> status </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> txWithStatus</span><span class="token operator" style="color:rgb(12, 150, 155)">?</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token property-access">tx_status</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token property-access">status</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token keyword" style="color:rgb(12, 150, 155)">const</span><span class="token plain"> blockHash </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> txWithStatus</span><span class="token operator" style="color:rgb(12, 150, 155)">?</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token property-access">tx_status</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token property-access">block_hash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;The transaction status is&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(17, 17, 17)">console</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token method function property-access" style="color:rgb(153, 76, 195);font-style:italic">log</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;The block hash for the transaction is&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">blockHash</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/xying21/lumos_doc/tree/master/docs/tutorials/querytransactions.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-04-21T12:58:40.000Z" class="docLastUpdatedAt_1Qna">4/21/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/lumos_doc/docs/tutorials/querycells"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Query on Cells</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/lumos_doc/docs/tutorials/buildtransactions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Assemble Transactions »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#functions" class="table-of-contents__link">Functions</a><ul><li><a href="#transactioncollector" class="table-of-contents__link">TransactionCollector</a></li><li><a href="#rpcget_transaction" class="table-of-contents__link">rpc.get_transaction</a></li></ul></li><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#environment" class="table-of-contents__link">Environment</a></li><li><a href="#examples" class="table-of-contents__link">Examples</a><ul><li><a href="#query-transactions-by-a-lock-script" class="table-of-contents__link">Query Transactions by a Lock Script</a></li><li><a href="#query-transactions-between-given-block-numbers" class="table-of-contents__link">Query Transactions between Given Block Numbers</a></li><li><a href="#skip-transactions" class="table-of-contents__link">Skip Transactions</a></li><li><a href="#order-transactions-by-block-number" class="table-of-contents__link">Order Transactions by Block Number</a></li><li><a href="#prefix-search-on-args" class="table-of-contents__link">Prefix Search on <var>args</var></a></li><li><a href="#fine-grained-query-for-transactions" class="table-of-contents__link">Fine Grained Query for Transactions</a></li><li><a href="#get-transaction-status-and-block-hash" class="table-of-contents__link">Get Transaction Status and Block Hash</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/lumos_doc/docs/introduction/about">About This Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/lumos_doc/docs/introduction/intro">What is Lumos?</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Setup</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/lumos_doc/docs/preparation/setupsystem">Set Up the Development Environment</a></li><li class="footer__item"><a class="footer__link-item" href="/lumos_doc/docs/tutorials/installlumos">Install Lumos Packages</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Config</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/lumos_doc/docs/tutorials/config">Set Up the Config Manager</a></li><li class="footer__item"><a class="footer__link-item" href="/lumos_doc/docs/tutorials/indexer">Set Up the Lumos Indexer</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Lumos Documentation" src="/lumos_doc/img/nervoslumos.svg"></div><div class="footer__copyright">Copyright © 2021 Nervos Foundation. All Rights Reserved.</div></div></div></footer></div>
<script src="/lumos_doc/styles.cbeeb74e.js"></script>
<script src="/lumos_doc/runtime~main.983a3f60.js"></script>
<script src="/lumos_doc/main.4583aca0.js"></script>
<script src="/lumos_doc/1.c6eb3317.js"></script>
<script src="/lumos_doc/907e7f6a.1442aa92.js"></script>
<script src="/lumos_doc/54.0f836e1d.js"></script>
<script src="/lumos_doc/f976f453.688ff93a.js"></script>
<script src="/lumos_doc/53.2b3e01e6.js"></script>
<script src="/lumos_doc/62791b0f.f12cc8b9.js"></script>
</body>
</html>