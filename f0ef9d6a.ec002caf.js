(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{103:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return s}));var a=n(3),i=n(7),o=(n(0),n(110)),r={id:"installckb",title:"Install a CKB Node"},l={unversionedId:"preparation/installckb",id:"preparation/installckb",isDocsHomePage:!1,title:"Install a CKB Node",description:"Introduction",source:"@site/docs\\preparation\\installckb.md",slug:"/preparation/installckb",permalink:"/lumos_doc/docs/preparation/installckb",editUrl:"https://github.com/xying21/lumos_doc/tree/master/docs/preparation/installckb.md",version:"current",sidebar:"someSidebar",previous:{title:"Set Up the Development Environment",permalink:"/lumos_doc/docs/preparation/setupsystem"},next:{title:"Install Lumos Packages for a Node Project",permalink:"/lumos_doc/docs/tutorials/installlumos"}},c=[{value:"Introduction",id:"introduction",children:[]},{value:"Networks",id:"networks",children:[]},{value:"Environment",id:"environment",children:[]},{value:"Installation Options",id:"installation-options",children:[{value:"Install a CKB Node Automatically by Using Tippy",id:"install-a-ckb-node-automatically-by-using-tippy",children:[]},{value:"Install a CKB Node on DEV Chain Manually",id:"install-a-ckb-node-on-dev-chain-manually",children:[]}]}],p={toc:c};function s(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"introduction"},"Introduction"),Object(o.b)("p",null,"To develop DApps for Nervos CKB, the first step is to install and run a CKB node. "),Object(o.b)("p",null,"The node syncs block and transaction information with a CKB network and indexes the data in a local database. The node also collects new transactions from the DApp, package the transactions into blocks and produce new blocks. "),Object(o.b)("h2",{id:"networks"},"Networks"),Object(o.b)("p",null,"The node can be set up to connect and interact with one of the following CKB networks:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Lina Mainnet: The Lina Mainnet is the main CKB public network. The real-time information of the Lina Mainnet can be checked on the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://explorer.nervos.org/"}),"CKB Explorer")," page.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Aggron Testnet: The Aggron Testnet is used to test applications integration and smart contracts in real environment with actual data. "),Object(o.b)("p",{parentName:"li"},"For the first time to start running a node on the Testnet chain, syncing data requires approximately one hour for the current number of blocks (",Object(o.b)("strong",{parentName:"p"},"1,300,000+"),"). The real-time block number on the Testnet chain can be checked on the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://explorer.nervos.org/aggron"}),"CKB Explorer")," page.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"DEV Chain:  The DEV chain is a local blockchain that provides an efficient and useful development mode for building and testing applications. This is the recommended network for starters and DApp developers. An account on the DEV chain can get CKB capacity as a miner account specified by the chain configurations. For more information about specifying a miner account, see ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"../tutorials/createaccount#get-ckb-capacity-for-the-account-on-dev-chain"}),"Get CKB Capacity for an Account on DEV Chain"),"."))),Object(o.b)("h2",{id:"environment"},"Environment"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"All major platforms including Linux, Windows, and Mac.")),Object(o.b)("h2",{id:"installation-options"},"Installation Options"),Object(o.b)("p",null,"There are two options for installing a CKB node:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Option 1: Install a CKB Node automatically by using Tippy."),Object(o.b)("p",{parentName:"li"},Object(o.b)("strong",{parentName:"p"},"Tippy")," is a tool that can automatically set up and manage CKB nodes. It can install and start running a CKB node by one simple click.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Option 2: Install a CKB Node Manually."),Object(o.b)("p",{parentName:"li"},"This guide includes the example of installing a CKB node on DEV chain manually."),Object(o.b)("p",{parentName:"li"},"For information about the manual installation on the Testnet, see ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.nervos.org/docs/basics/guides/testnet"}),"Run a CKB Testnet Node"),"."),Object(o.b)("p",{parentName:"li"},"For information about the manual installation on the Mainnet, see ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.nervos.org/docs/basics/guides/mainnet"}),"Run a CKB Mainnet Node"),"."))),Object(o.b)("h3",{id:"install-a-ckb-node-automatically-by-using-tippy"},"Install a CKB Node Automatically by Using Tippy"),Object(o.b)("h4",{id:"step-1-install-tippy"},"Step 1. Install Tippy"),Object(o.b)("p",null,"Tippy can be installed from pre-built binaries or ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/nervosnetwork/tippy"}),"source"),". "),Object(o.b)("p",null,"This example shows how to install Tippy from pre-built binaries. For more information about the installation from source, see the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/nervosnetwork/tippy"}),"Readme")," of Tippy."),Object(o.b)("p",null,"To install Tippy from pre-built binaries, download the pre-built binaries and untar the files:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"$ curl -LO https://github.com/nervosnetwork/tippy/releases/download/v0.1.4/tippy-linux-x64.tar.gz\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   630  100   630    0     0     81      0  0:00:07  0:00:07 --:--:--   179\n100 70.7M  100 70.7M    0     0  4328k      0  0:00:16  0:00:16 --:--:-- 10.2M\n$ tar xzf tippy-linux-x64.tar.gz\n")),Object(o.b)("h4",{id:"step-2-run-the-tippy-tool"},"Step 2. Run the Tippy tool"),Object(o.b)("p",null,"If a desktop GUI is installed, the Tippy tool can be run by double clicking the Tippy file under the tippy-linux-x64 folder."),Object(o.b)("p",null,"A web page on http://localhost:5000/Home will be opened in a browser after the double click."),Object(o.b)("h4",{id:"step-3-install-and-run-a-ckb-node-on-dev-chain"},"Step 3. Install and Run a CKB node on DEV chain."),Object(o.b)("p",null,"To install and run a CKB node on DEV chain, click the ",Object(o.b)("strong",{parentName:"p"},"Launch a CKB devnet instantly")," button on the home page."),Object(o.b)("img",{src:"../../../img/tippycreate.png"}),Object(o.b)("p",null,"To install and run a CKB node on the other networks, click ",Object(o.b)("strong",{parentName:"p"},"Create a customized chain")," to choose the network in the ",Object(o.b)("inlineCode",{parentName:"p"},"Chain Type")," dropdown list of the ",Object(o.b)("strong",{parentName:"p"},"Create Chain")," form."),Object(o.b)("p",null,"The node starts running after the click. It can be stopped or restarted on the Dashboard. Details of blocks and transactions of the chain can be checked on the Blocks and Transaction pages."),Object(o.b)("h3",{id:"install-a-ckb-node-on-dev-chain-manually"},"Install a CKB Node on DEV Chain Manually"),Object(o.b)("p",null,"To install and configure a CKB DEV Blockchain on Linux:"),Object(o.b)("h4",{id:"step-1-download-the-latest-ckb-binary-file-from-the-ckb-releases-page-on-github"},"Step 1. Download the latest CKB binary file from the CKB releases page on ",Object(o.b)("a",Object(a.a)({parentName:"h4"},{href:"https://github.com/nervosnetwork/ckb/releases"}),"GitHub"),"."),Object(o.b)("p",null,"To download the version 0.39.0 for Linux:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"$ export TOP=$(pwd)\n$ curl -LO https://github.com/nervosnetwork/ckb/releases/download/v0.39.0/ckb_v0.39.0_x86_64-unknown-linux-gnu.tar.gz\n$ tar xzf ckb_v0.39.0_x86_64-unknown-linux-gnu.tar.gz\n$ export PATH=$PATH:$TOP/ckb_v0.39.0_x86_64-unknown-linux-gnu\n")),Object(o.b)("h4",{id:"step-2-verify-the-binaries-are-working-and-check-versions"},"Step 2. Verify the binaries are working and check versions."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"$ ckb -V\nckb 0.39.0\n")),Object(o.b)("h4",{id:"step-3-initialize-the-development-blockchain"},"Step 3. Initialize the development blockchain."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"$ ckb init -C devnet -c dev\nWARN: mining feature is disabled because of lacking the block assembler config options\nInitialized CKB directory in devnet\ncreate specs/dev.toml\ncreate ckb.toml\ncreate ckb-miner.toml\ncreate default.db-options\n")),Object(o.b)("h4",{id:"step-4-optional-adjust-the-parameters-to-shorten-the-block-interval"},"Step 4. (Optional) Adjust the parameters to shorten the block interval."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Modify ",Object(o.b)("inlineCode",{parentName:"p"},"genesis_epoch_length")," and ",Object(o.b)("inlineCode",{parentName:"p"},"permanent_difficulty_in_dummy"),"  in the c:\\ckb\\specs","\\",Object(o.b)("inlineCode",{parentName:"p"},"dev.toml")," chain config file."),Object(o.b)("p",{parentName:"li"},"The default value for the ",Object(o.b)("inlineCode",{parentName:"p"},"genesis_epoch_length")," parameter is ",Object(o.b)("inlineCode",{parentName:"p"},"1000"),". That means each epoch contains 1000 blocks by default. The value 10 or 100 can be used for testing Nervos DAO operations."),Object(o.b)("p",{parentName:"li"},"When ",Object(o.b)("inlineCode",{parentName:"p"},"permanent_difficulty_in_dummy")," is set to ",Object(o.b)("inlineCode",{parentName:"p"},"true"),", all epochs skip the difficulty adjustment",". This parameter is typically used in combination with ",Object(o.b)("inlineCode",{parentName:"p"},"genesis_epoch_length"),"."),Object(o.b)("p",{parentName:"li"},"To modify ",Object(o.b)("inlineCode",{parentName:"p"},"genesis_epoch_length")," and ",Object(o.b)("inlineCode",{parentName:"p"},"permanent_difficulty_in_dummy"),":"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),'$ ed devnet/specs/dev.toml <<EOF\n91d\n90a\ngenesis_epoch_length = 10  # The unit of meansurement is "block".\npermanent_difficulty_in_dummy = true\n.\nwq\nEOF\n'))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Modify the ",Object(o.b)("inlineCode",{parentName:"p"},"value")," parameter under the ",Object(o.b)("inlineCode",{parentName:"p"},"miner.workers")," section  in the ",Object(o.b)("inlineCode",{parentName:"p"},"ckb-miner.toml")," file."),Object(o.b)("p",{parentName:"li"},"The default mining interval is 5000 milliseconds (5 seconds). That means a new block is generated at intervals of every 5 seconds."),Object(o.b)("p",{parentName:"li"},"To modify the value to generate a new block every second (1000 milliseconds):"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"$ ed devnet/ckb-miner.toml <<EOF\n39s/5000/1000/\nwq\nEOF\n")))),Object(o.b)("h4",{id:"step-5-start-the-ckb-node-with-the-dev-chain"},"Step 5. Start the CKB node with the dev chain."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"$ ckb run -C devnet\n")))}s.isMDXComponent=!0},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var a=n(0),i=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=i.a.createContext({}),s=function(e){var t=i.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},b=function(e){var t=s(e.components);return i.a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},u=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,r=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),b=s(n),u=a,m=b["".concat(r,".").concat(u)]||b[u]||d[u]||o;return n?i.a.createElement(m,l(l({ref:t},p),{},{components:n})):i.a.createElement(m,l({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=u;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var p=2;p<o;p++)r[p]=n[p];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);